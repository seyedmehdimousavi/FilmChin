<!DOCTYPE html>
<html lang="fa" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FilmChiin</title>
  <!-- Bootstrap icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <!-- main stylesheet -->
  <link rel="stylesheet" href="style.css">

  <!-- supabase client -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body class="index-body">
<!-- Toast Container -->
<div id="toast-container"></div>
<!-- Active Filters Toast -->
<div id="activeFilters" class="active-filters-toast"></div>
<!-- Header (sticky with blur) -->

<header class="main-header">
  <!-- üîπ ÿ®ŸÜÿ± ÿ®ÿßŸÑÿß€å ÿ≥ÿß€åÿ™ -->
<div id="site-banner"class="site-banner">
  <div class="banner-content split-text-container">
    <span class="banner-logo text-part left">
      <img src="/images/banner-icon.png" alt="banner-logo" />
    </span>
    <span class="banner-text text-part right">filmchiin.ir</span>
  </div>
</div>
<div class="header">
<div class="search-bar">
  <div class="button-wrap">
    <button id="menuBtn" class="menu-btn" aria-label="menu">
    
      <img width="96" height="96" src="images/icons8-menu-64.png" alt="menu--v2" style="display:flex;align-items:center;"/>
  </button>
  <div class="button-shadow"></div>
  </div>
<div id="profileMenu" class="profile-menu hidden">
  <div class="profile-bubble">
    <div class="profile-username" id="profileUsername">UserName</div>
    <div class="button-wrap">
      <button class="profile-edit"><span>Edit Profile</span></button>
      <div class="button-shadow"></div>
    </div>
    
    <hr class="profile-divider"/>
    <div class="button-wrap">
      <button id="logoutBtn" class="profile-logout"><span>Logout</span></button>
      <div class="button-shadow">
      </div>
    </div>
    
  </div>
</div>
  <input id="search" type="text" placeholder="Search..." dir="auto"/>

  <div class="button-wrap">
    <button id="profileBtn" class="icon-inside" style="display:flex;align-items:center;" aria-label="profile">
        <img src="images/icons8-user-96.png" alt="user"/>
    <span id="commentBadge" class="badge" style="display:none;">!</span>
  </button>
  <div class="button-shadow">
  </div>
  </div>
  
  

  <button id="searchCloseBtn" class="close-btn" style="display:none;" aria-label="close">‚úï</button>
</div>
    <button id="themeToggle" class="icon-btn" aria-label="toggle theme" style="display: flex;align-items: center;"><img src="images/icons8-moon.apng" alt="bright-moon"/></button>
</div>
    
</header>

<!-- side menu and overlay -->
<div id="menuOverlay" class="menu-overlay"></div>


<nav id="sideMenu" class="side-menu" aria-hidden="true">
  
  <div class="menu-section">
    
     <div class="gs">
       <div class="button-wrap">
             <button id="genreToggle" class="menu-toggle">
               <span><i class="bi bi-list"></i> Genres</span>
            </button>
        <div class="button-shadow"></div>
        </div>
                <div id="genreSubmenu" class="submenu" style="display:none;">
           <div id="genreGrid" class="genre-grid"></div>
         </div>

      </div>
     <div class="sl">
           <div id="linksHeader">
             <button class="links-toggle" style="display: flex;align-items: center;">
               <span>               <i class="bi bi-link-45deg"></i> Links
               </span>
             </button>
         </div>
           <div id="socialGrid" class="social-grid hidden"></div>
     </div>
     
     <div id="ratingFilter" class="rating-filter">
       <h4 class="rating-filter-title">Sort by imdb rating</h4>

       <div class="rating-process-wrapper">
         <div class="rating-min">0</div>
        <div class="rating-track" id="ratingTrack" aria-hidden="false">
         <div class="rating-track-fill" id="ratingFill"></div>
         <div class="rating-knob" id="ratingKnob" role="slider" tabindex="0" aria-valuemin="0" aria-valuemax="10" aria-valuenow="0">
        <div class="rating-bubble" id="ratingBubble" aria-hidden="true">
          Rating &gt; <span id="ratingBubbleValue">0.0</span>
        </div>
      </div>
    </div>
    <div class="rating-max">10</div>
  </div>

  <div class="rating-controls button-wrap">
    <button id="applyRatingFilter" class="apply-imdb small">
      <span>Apply</span>
      </button>
      <div class="button-shadow"></div>
  </div>
  
</div>


     </div>
  
  
  
<section class="side-menu-bottom">
  <!-- Message to admin bubble -->
<div id="chatBubble" class="chat-bubble">
  <div class="chat-bubble-header">
    <span class="chat-bubble-title">Ÿæ€åÿßŸÖ ÿ®Ÿá ÿßÿØŸÖ€åŸÜ</span>
    <span id="chatBubbleBadge" class="badge" style="display:none;">!</span>
  </div>

  <!-- ÿ±ÿØ€åŸÅ ÿ¨ŸÖÿπ‚Äåÿ¥ÿØŸá (⁄©ÿßŸÑŸæÿ≥) -->
  <div class="chat-input-row" id="chatInputRow">
    <input id="chatInput" type="text" placeholder="Ÿæ€åÿßŸÖ ÿ®Ÿá ÿßÿØŸÖ€åŸÜ" />
    <div class="chat-actions">
      <div class="button-wrap">
        <button id="chatAttachBtn" class="chat-icon-btn" aria-label="attach">
  <img src="images/icons8-attach-60.png" alt="attach" />
</button>
<div class="button-shadow">
</div>
      </div>
      <input id="chatAttachFile" type="file" accept="image/*" hidden />
      <div class="button-wrap">
              <button id="chatSendBtn" class="chat-icon-btn disabled" aria-label="send">
                <img src="images/icons8-send-90.png" alt="send" />
      </button>
      <div class="button-shadow"></div>
      </div>
      
    </div>
  </div>

  <!-- ŸÜŸÖÿß€å ÿ™ŸÖÿßŸÖ‚ÄåÿµŸÅÿ≠Ÿá ÿØÿ± ÿ≥ÿß€åÿØŸÖŸÜŸà -->
  <div id="chatOverlay" class="chat-overlay" aria-hidden="true">
    <div class="chat-overlay-header">
      <div class="button-wrap">
              <button id="userChatBackBtn" class="chat-back-btn" aria-label="back">
                <span>close</span> </button>
              <div class="button-shadow"></div>
      </div>
      
      <img id="chatAdminAvatar" class="chat-admin-avatar" src="images/Admin-logo.png" alt="admin" />
      <div class="chat-overlay-title">Ÿæ€åÿßŸÖ ÿ®Ÿá ÿßÿØŸÖ€åŸÜ</div>
    </div>

    <div id="chatMessagesList" class="chat-messages-list"></div>

    <!-- ⁄©ÿßŸÖŸæŸàÿ≤ÿ± Ÿæÿß€å€åŸÜ -->
    <div class="chat-composer">
            <input id="overlayInput" type="text" placeholder="ÿ®ŸÜŸà€åÿ≥..." />
            <div class="button-wrap">
              <button id="overlayAttachBtn" class="chat-icon-btn" aria-label="attach">
  <img src="images/icons8-attach-60.png" alt="attach" />
</button>
<div class="button-shadow">
</div>
            </div>
      <input id="overlayAttachFile" type="file" accept="image/*" hidden />
      <div class="button-wrap">
        <button id="overlaySendBtn" class="chat-icon-btn disabled" aria-label="send">
  <img src="images/icons8-send-90.png" alt="send" />
</button>
<div class="button-shadow"></div>
      </div>
    </div>
  </div>
</div>

<div class="designer-credit">
  Design :
  <div style="display: flex;align-items: center; justify-content: space-between; gap: 4px;">
    <a href="tg://resolve?domain=SeyedMahdiMousavi" target="_blank" class="designer-bubble">Mehdi</a>
  <div id="appVersion" class="genre-chip version-chip">v1.0.0</div>
  </div>
</div>
</section>

</nav>


<section class="movie-type-tabs">
  <div class="button-wrap">
    <button data-type="all" class="active">
      All Movies <span class="count">0</span>
    </button>
    <div class="button-shadow"></div>
  </div>
  

  <div class="button-wrap">
    <button data-type="collection" class="">
      Collections <span class="count btn-text">0</span>
    </button>
    <div class="button-shadow"></div>
  </div>
  
  <div class="button-wrap">
    <button data-type="series" class="">
      Series<span class="count">0</span>
    </button>
    <div class="button-shadow"></div>
  </div>
  
  <div class="button-wrap">
    <button data-type="single" class="">
      Single Films<span class="count">0</span>
    </button>
    <div class="button-shadow"></div>
  </div>
</section>
<div class="tab-genres-wrapper">
  <div class="tab-genres-list"></div>
</div>

<!-- main container -->
<div class="container">
  <!-- admin messages (bubbles above movies) -->
  <div id="adminMessages" class="messages-container" aria-live="polite"></div>
 
  
  <section id="popular-carousel" class="popular-section">
    <div class="popular-title">
      <div class="button-wrap">
  <button>
    <span>ŸÅ€åŸÑŸÖ‚ÄåŸáÿß€å Ÿæÿ±ÿ∑ÿ±ŸÅÿØÿßÿ±</span>
  </button>
  <div class="button-shadow">
  </div>
</div>
    </div>
  <div class="carousel-container">
    <button class="carousel-btn prev"><img src="images/icons8-back-to-64.png" alt="prev button" /></button>
    <div class="carousel-window">
      <div class="carousel-track"></div>
    </div>
    <button class="carousel-btn next"><img src="images/icons8-next-page-64.png" alt="next button" /></button>
  </div>
  <div class="carousel-bg"></div>
</section>

<!-- ŸÖŸàÿØÿßŸÑ ÿßÿ∑ŸÑÿßÿπÿßÿ™ ÿ®€åÿ¥ÿ™ÿ± -->
<div id="movie-modal" class="movie-modal">
  <div class="movie-modal-content"></div>
</div>

  <!-- movies count -->
  <div id="movieCount" class="movie-count">Number of movies: 0</div>
  
  <!-- movies grid -->
  <div id="moviesGrid" class="movies-grid" role="list"></div>

  <!-- pagination -->
  <div id="pagination" class="pagination-container" aria-label="pagination"></div>
</div>

<!-- Auth Modal -->
<div id="authModal" class="login-modal" aria-hidden="true">
  <div class="login-box">
    <!-- ÿ™ÿ®‚ÄåŸáÿß -->
    <div class="auth-tabs">
      <div class="button-wrap">
        <button class="tab-btn active" data-tab="login"><span>Login</span></button>
        <div class="button-shadow"></div>
      </div>
      
      <div class="button-wrap">
        <button class="tab-btn" data-tab="signup"><span>Sign Up</span></button><div class="button-shadow">
        </div>
      </div>
      
      
    </div>

    <!-- ŸÅÿ±ŸÖ ŸÑÿß⁄Ø€åŸÜ -->
    <form id="loginForm" class="tab-content active" data-tab="login">
      <input type="text" id="loginUsername" placeholder="Gmail or Username" required />
      <input type="password" id="loginPassword" placeholder="Password" required />
      <div class="button-wrap">
        <button type="submit" class="login-btn"><span>Login</span></button>
        <div class="button-shadow"></div>
      </div>
    </form>

    <!-- ŸÅÿ±ŸÖ ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ ÿØŸà ŸÖÿ±ÿ≠ŸÑŸá‚Äåÿß€å -->
    <form id="signupForm" class="tab-content" data-tab="signup" enctype="multipart/form-data">
      <!-- ŸÖÿ±ÿ≠ŸÑŸá €± -->
      <div id="signupStep1" class="fade-step active-step">
        <input type="email" id="signupEmail" placeholder="Gmail" required />
        <input type="text" id="signupUsername" placeholder="Username" required />
        <input type="password" id="signupPassword" placeholder="Password" required />
      </div>

      <!-- ŸÖÿ±ÿ≠ŸÑŸá €≤ -->
      <div id="signupStep2" class="fade-step" style="display:none;">
        <input type="file" id="signupAvatar" accept="image/*" required />
        <small style="font-size:12px;color:#888;">ÿ≠ÿØÿß⁄©ÿ´ÿ± ÿ≠ÿ¨ŸÖ ÿπ⁄©ÿ≥: 500KB</small>
      </div>
      <div class="button-wrap">
        <button type="button" id="signupNextBtn" class="login-btn signup-next-btn">
          <span>  <img src="/images/icons8-next.apng" alt="next" id="signupNextIcon" style="height:22px;vertical-align:middle;">
</span>
  <span id="signupBtnText"></span>
</button>
<div class="button-shadow"></div>
      </div>
      
    </form>
  </div>
</div>


<!-- ⁄©ÿßŸÜÿ™€åŸÜÿ± ÿ¥ŸÜÿßŸàÿ± -->
<div class="floating-wrapper">
  <!-- ŸæŸÜŸÑ ÿßÿ≥ÿ™Ÿàÿ±€å‚ÄåŸáÿß -->
  <div id="storyPanel" class="story-panel" aria-hidden="true">
    <div class="stories" role="list"></div>
    <div class="button-wrap">
          <button class="go-pagination" type="button">
            <span>go to pagination<img src="images/icons8-double-down.apng" alt="down" style="width:16px;height:16px;vertical-align:middle;"/>
</span>
    </button>
    <div class="button-shadow"></div>
    </div>
  </div>

  <!-- ÿØ⁄©ŸÖŸá ÿ¥ŸÜÿßŸàÿ± -->
  <div class="floating-btn-container">
     <div class="button-wrap">
   <button id="storyToggle" class="floating-btn" aria-label="toggle stories">
     <span><img id="storyToggleIcon" src="images/icons8-double-left.apng" alt="toggle" /></span>
   </button>
   <div class="button-shadow"></div>
 </div>
  </div>
  
<div class="go-top-container">
  <div class="button-wrap">
  <button class="go-top-button " id="goTopBtn">
    <span>
      <svg viewBox="0 0 384 512" class="svgIcon">
    <path
      d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"
    ></path>
  </svg>
    </span>
</button>
<div class="button-shadow"></div>
</div>

</div>
<!-- script (app logic) -->
<script src="script.js"></script>
</body>
